{"version":3,"names":["moment","useRef","useState","Gesture","Easing","runOnJS","useAnimatedReaction","useSharedValue","withTiming","useTimelineCalendarContext","triggerHaptic","useTimelineScroll","useDragCreateGesture","onDragCreateEnd","timeIntervalHeight","spaceFromTop","spaceFromBottom","offsetY","timelineLayoutRef","isScrolling","currentIndex","minDate","maxDate","pages","hourWidth","columnWidth","timelineWidth","totalHours","dragCreateInterval","dragStep","viewMode","isDragCreateActive","useHaptic","tzOffset","start","navigateDelay","goToNextPage","goToPrevPage","goToOffsetY","isDraggingCreate","setIsDraggingCreate","currentHour","dragXPosition","dragYPosition","startOffsetY","calcPosition","xPosition","yPosition","nearestMinutes","positionIndex","Math","floor","calcX","startY","value","subtractHour","originalTime","rHours","minutes","rMinutes","round","extraPos","roundedHour","calcY","x","max","y","timeoutRef","_handleScroll","current","clearInterval","setInterval","scrollTargetDiff","abs","scrollInProgress","targetOffset","yInPage","pageSize","height","currentY","timelineHeight","spacingInBottomAndTop","maxOffsetY","nextOffset","min","_onEnd","event","time","startDate","data","eventStart","tz","add","isBeforeMinDate","isBefore","isAfterMaxDate","isAfter","eventEnd","clone","toISOString","end","gestureEvent","undefined","duration","easing","linear","isTouchesUp","dragCreateGesture","Pan","minPointers","manualActivation","onTouchesDown","stateManager","numberOfTouches","fail","onTouchesMove","_e","activate","onUpdate","numberOfPointers","onTouchesUp","touchesUp","active","onLongPress","e","posX","nativeEvent","locationX","posY","locationY"],"sourceRoot":"../../src","sources":["useDragCreateGesture.tsx"],"mappings":"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"}